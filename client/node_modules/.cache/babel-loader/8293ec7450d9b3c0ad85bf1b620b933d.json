{"ast":null,"code":"var _jsxFileName = \"/Users/javiercanto/Desktop/Web cursos/React JS/healthyplace/client/src/components/RolesComponent.js\",\n    _s = $RefreshSig$();\n\nimport { React, useState } from 'react';\nimport { Breadcrumb, BreadcrumbItem } from 'reactstrap';\nimport { Link } from 'react-router-dom'; //using axios to make API request\n\nimport Axios from 'axios';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction Roles() {\n  _s();\n\n  // add role states\n  const [roles, setRoles] = useState(''); // show role list state\n\n  const [roleList, setRoleList] = useState([]); // update sole state\n\n  const [newRole, setNewRole] = useState(''); //add role \n\n  const addRole = () => {\n    Axios.post('http://localhost:3001/createrole', {\n      roles: roles\n    }).then(() => {\n      alert(\"Cargo agregado\");\n      setRoleList([...roleList, {\n        roles: roles\n      }]);\n    });\n  }; //show all roles function\n\n\n  const getRoles = () => {\n    Axios.get('http://localhost:3001/roles').then(response => {\n      setRoleList(response.data);\n    });\n  }; //update role name function\n\n\n  const updateRoleName = id => {\n    Axios.put('http://localhost:3001/updaterole', {\n      roles: newRole,\n      id: id\n    }).then(response => {\n      console.log(response);\n      alert(\"Cargo modificado\");\n      setRoleList(roleList.map(val => {\n        return val.id === id ? {\n          id: val.id,\n          roles: newRole\n        } : val;\n      }));\n    });\n  }; // delete role function\n\n\n  const deleteRole = id => {\n    Axios.delete(`http://localhost:3001/deleterole/${id}`).then(response => {\n      console.log(response);\n      alert(\"Cargo eliminado\");\n      setRoleList(roleList.filter(val => {\n        return val.id !== id;\n      }));\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"container\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"row\",\n      children: [/*#__PURE__*/_jsxDEV(Breadcrumb, {\n        children: [/*#__PURE__*/_jsxDEV(BreadcrumbItem, {\n          children: /*#__PURE__*/_jsxDEV(Link, {\n            to: \"/home\",\n            children: \"Inicio\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 69,\n            columnNumber: 37\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(BreadcrumbItem, {\n          active: true,\n          children: \"Cargos\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"col-12\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          children: \"Cargos\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"information\",\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        children: \"Cargo:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        onChange: event => {\n          setRoles(event.target.value);\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: addRole,\n        children: \"A\\xF1adir Cargo\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"employees\",\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: getRoles,\n        children: \"Mostrar Cargos\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 17\n      }, this), roleList.map((val, key) => {\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"employee\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              children: [\"Id: \", val.id]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 89,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n              children: [\"Cargo: \", val.roles]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 90,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 88,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              placeholder: \"Cambiar nombre del cargo\",\n              onChange: event => {\n                setNewRole(event.target.value);\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 93,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => {\n                updateRoleName(val.id);\n              },\n              children: [\" \", \"Modificar cargo\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 94,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => {\n                deleteRole(val.id);\n              },\n              children: \"Eliminar Cargo\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 95,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 92,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 87,\n          columnNumber: 25\n        }, this);\n      })]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 66,\n    columnNumber: 9\n  }, this);\n}\n\n_s(Roles, \"PbS/WqkriS/9C0XNXzJhZxqBLFY=\");\n\n_c = Roles;\nexport default Roles;\n\nvar _c;\n\n$RefreshReg$(_c, \"Roles\");","map":{"version":3,"sources":["/Users/javiercanto/Desktop/Web cursos/React JS/healthyplace/client/src/components/RolesComponent.js"],"names":["React","useState","Breadcrumb","BreadcrumbItem","Link","Axios","Roles","roles","setRoles","roleList","setRoleList","newRole","setNewRole","addRole","post","then","alert","getRoles","get","response","data","updateRoleName","id","put","console","log","map","val","deleteRole","delete","filter","event","target","value","key"],"mappings":"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","sourcesContent":["import {React, useState} from 'react';\nimport { Breadcrumb, BreadcrumbItem } from 'reactstrap';\nimport { Link } from 'react-router-dom';\n//using axios to make API request\nimport Axios from 'axios'\n\nfunction Roles() {\n\n    // add role states\n    const [roles, setRoles] = useState('');\n    // show role list state\n    const[roleList, setRoleList] = useState([]);\n    // update sole state\n    const[newRole, setNewRole] = useState('');\n\n\n    //add role \n    const addRole = () => {\n        Axios.post('http://localhost:3001/createrole', {\n            roles: roles,\n        }).then(() => {\n            alert(\"Cargo agregado\");\n            setRoleList([...roleList, {\n                roles: roles,\n            },]);\n        });\n    };\n\n     //show all roles function\n     const getRoles = () => {\n        Axios.get('http://localhost:3001/roles').then((response) => {\n            setRoleList(response.data)\n        });   \n    };\n\n    //update role name function\n    const updateRoleName = (id) => {\n        Axios.put('http://localhost:3001/updaterole', {\n            roles: newRole,\n            id: id\n        }).then((response) => {\n            console.log(response);\n            alert(\"Cargo modificado\");\n            setRoleList(roleList.map((val) => {\n                return val.id === id ? {\n                    id: val.id,\n                    roles: newRole,\n                } : val;\n            }));\n        });   \n    };\n\n    // delete role function\n    const deleteRole = (id) => {\n        Axios.delete(`http://localhost:3001/deleterole/${id}`).then((response) => {\n            console.log(response);\n            alert(\"Cargo eliminado\");\n            setRoleList(roleList.filter((val) => {\n                return val.id !== id;\n            }));\n        });   \n    };\n\n\n    return(\n        <div className=\"container\">\n            <div className=\"row\">\n                <Breadcrumb>\n                    <BreadcrumbItem><Link to=\"/home\">Inicio</Link></BreadcrumbItem>\n                    <BreadcrumbItem active>Cargos</BreadcrumbItem>\n                </Breadcrumb>\n                <div className=\"col-12\">\n                    <h3>Cargos</h3>\n                    <hr />\n                </div>                \n            </div>\n\n            <div className=\"information\">\n                <label>Cargo:</label>\n                <input type=\"text\" onChange={(event) => {setRoles(event.target.value);}}/>\n                <button onClick={addRole}>Añadir Cargo</button>\n            </div>\n            <div className=\"employees\">\n                <button onClick={getRoles}>Mostrar Cargos</button>\n                {roleList.map((val, key) => {\n                    return (\n                        <div className=\"employee\">\n                            <div>\n                                <h3>Id: {val.id}</h3>\n                                <h3>Cargo: {val.roles}</h3>\n                            </div>\n                            <div>\n                                <input type=\"text\" placeholder=\"Cambiar nombre del cargo\" onChange={(event) => {setNewRole(event.target.value);}}/>\n                                <button onClick={() => {updateRoleName(val.id);}}>{\" \"}Modificar cargo</button>\n                                <button onClick={() => {deleteRole(val.id);}}>Eliminar Cargo</button>\n                            </div>\n                        </div>\n                    );\n                })}\n            </div>\n\n        </div>\n    );\n}\n\nexport default Roles;    "]},"metadata":{},"sourceType":"module"}